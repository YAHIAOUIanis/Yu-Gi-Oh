{% extends 'base.html.twig' %}

{% block title %}Deck's description{% endblock %}

{% block body %}
    <div class="container">
        <h1>{{ deck.deckName }}'s card list </h1>
    </div>


    {% if deck.getPosted() == false %}
        {% if user == deck.user %}
    <div class="container">


                <form action="{{ path('deckBuilder.rename', {'idDeck': deck.id}) }}" method="POST">
                    <div class = "row">
                        <input type="text" name="rename" minlength="3">

                    <div class="dropdown">
                        <button class="btn btn-secondary dropdown-toggle" type="button" id="dropdownMenuButton" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                            Options
                        </button>
                        <div class="dropdown-menu" aria-labelledby="dropdownMenuButton">
                            <button type="submit" class="btn btn-secondary">Rename {{ deck.deckName }}</button>
                            <a class="dropdown-item" href="{{ path('post', {'id': deck.id}) }}">Post your deck</a>
                        </div>
                    </div>
                    </div>
                </form>
            <br>
            {% endif %}
        {% endif %}

            {% for card in cards %}
                <a href="{{ path('manager.show', {'id': card.id}) }}"><img src={{ card.url }} alt="" height="320" width="210"></a>

                {% if user == deck.getUser() %}

                    {% if deck.getPosted() == false %}
                        <a href="{{ path('deckBuilder.removeCard', {'i': card.id, 'idd': deck.id}) }}"><img src="/images/c.png" height="30" width="25"></a>
                    {% endif %}

                {% endif %}

            {% endfor %}

    {% if user == deck.user %}
    {% if deck.getPosted() %}
        <div class="container">
            <br>
            <button class="btn btn-danger" onclick="window.location='{{ path('retrieve', {'id': deck.id}) }}'">Retrieve my deck to modify it</button>
        </div>
    {% endif %}
    {% endif %}
    </div>

{% endblock %}
